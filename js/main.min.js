function updateDateTime(){var e=new Date,t=e.toLocaleDateString("ar-EG",{day:"numeric",month:"long",year:"numeric"}),e=e.toLocaleTimeString("ar-EG",{hour:"numeric",minute:"2-digit"});document.getElementById("date-time").textContent=t,document.getElementById("time").textContent=e}function fetchWeather(){fetch("https://wttr.in/?format=%C&lang=ar").then(e=>e.text()).then(e=>{(document.getElementById("weather-status").textContent=e).includes("غائم")?document.getElementById("weather-icon").src="https://openweathermap.org/img/wn/03d.png":e.includes("مشمس")?document.getElementById("weather-icon").src="https://openweathermap.org/img/wn/01d.png":e.includes("أمطار")?document.getElementById("weather-icon").src="https://openweathermap.org/img/wn/09d.png":document.getElementById("weather-icon").src="https://openweathermap.org/img/wn/50d.png"}).catch(e=>console.error(e))}function getCity(){fetch("https://ipapi.co/json/").then(e=>e.json()).then(e=>{document.getElementById("location").textContent=e.city})}function initWeatherWidget(){fetchWeather(),updateDateTime(),setInterval(updateDateTime,6e4)}function updateYear(){var t=(new Date).getFullYear(),n=document.getElementsByClassName("year");for(let e=0;e<n.length;e++)n[e].textContent=t}document.addEventListener("DOMContentLoaded",()=>{initWeatherWidget(),getCity(),updateDateTime(),updateYear()});